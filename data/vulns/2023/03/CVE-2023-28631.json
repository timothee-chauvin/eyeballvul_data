{
  "id": "CVE-2023-28631",
  "published": "2023-03-28T20:17:26.108000",
  "modified": "2025-12-04T23:46:13.134360",
  "details": "comrak is a CommonMark + GFM compatible Markdown parser and renderer written in rust. A Comrak AST can be constructed manually by a program instead of parsing a Markdown document with `parse_document`. This AST can then be converted to HTML via `html::format_document_with_plugins`. However, the HTML formatting code assumes that the AST is well-formed. For example, many AST notes contain `[u8]` fields which the formatting code assumes is valid UTF-8 data. Several bugs can be triggered if this is not the case. Version 0.17.0 contains adjustments to the AST, storing strings instead of unvalidated byte arrays. Users are advised to upgrade. Users unable to upgrade may manually validate UTF-8 correctness of all data when assigning to `&[u8]` and `Vec<u8>` fields in the AST. This issue is also tracked as `GHSL-2023-049`.",
  "summary": "Attacker controlled data in AST nodes is not validated in comrak",
  "severity": [
    {
      "type": "CVSS_V3",
      "score": "CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:L"
    }
  ],
  "repo_url": "https://github.com/kivikakk/comrak",
  "cwes": [],
  "commits": [
    "b85e7d08a11bd8d286eb66f02bccf47104808746"
  ]
}
